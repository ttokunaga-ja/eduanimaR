# Accessibility（A11y）Minimum Contract

Last-updated: 2026-02-16

このドキュメントは、アクセシビリティを "後回しの修正" にせず、
レビュー観点として固定するための最小契約です。

---

## 結論（Must）

- 主要操作はキーボードだけで完了できる
- フォーカスが見える（迷子にしない）
- フォームエラーはスクリーンリーダーに伝わる（`aria-live` 等）
- Dialog/Menu 等の複合 UI は「開閉・フォーカストラップ・Esc」で破綻しない

---

## WCAG 2.1 Level AA準拠（Must）

eduanimaRは、WCAG 2.1 Level AA準拠を最低基準とします。

### コントラスト比
- テキスト: 4.5:1 以上（通常テキスト）
- 大きなテキスト: 3:1 以上（18pt以上または14pt太字以上）
- UI コンポーネント: 3:1 以上（ボタン、フォーム入力等）

### キーボード操作
- すべての機能はキーボードのみで操作可能
- フォーカスインジケーターを視覚的に明示
- カスタムキーボードショートカットは設定可能にする

### スクリーンリーダー対応
- 意味のある要素には適切なARIAラベルを付与
- 動的コンテンツの変更は `aria-live` で通知
- ランドマークロール（`main`, `nav`, `aside`等）を適切に配置

### 色だけに依存しない設計（Must）

重要な警告（共有/削除/権限不足）は色だけでなくテキストとアイコンで冗長化する。

**悪い例**:
```tsx
// ❌ 色だけで警告を表現
<Box sx={{ color: 'error.main' }}>
  削除しますか？
</Box>
```

**良い例**:
```tsx
// ✅ アイコンとテキストで冗長化
<Box sx={{ color: 'error.main' }}>
  <WarningIcon /> 警告: このアクションは取り消せません。削除しますか？
</Box>
```

### 低コントラストの禁止
読みにくい配色は採用しない。すべてのテキストとUIコンポーネントは、WCAG AAの最低コントラスト比を満たす必要があります。

**参照元SSOT**:
- `../../eduanimaRHandbook/04_product/VISUAL_IDENTITY.md` (色の運用ルール)

---

## フォーム（Must）

- 期待される失敗（validation）は inline で表示
- エラーメッセージは `aria-live="polite"` 等で通知
- `label` と入力を関連付ける（`htmlFor` / `id`）

---

## ナビゲーション（Must）

- `Tab` 移動で到達できない UI を作らない
- 操作不能な要素を `div` クリックで作らない（button/link を使う）

---

## 禁止（AI/人間共通）

- 見た目だけのエラー表示（SR に伝わらない）
- フォーカスを奪って戻さないモーダル
