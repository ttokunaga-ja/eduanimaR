# リリースロードマップ（Phase 1〜4）

このドキュメントは、eduanima+R の **4段階リリース** を SSOT として固定します。

要件の詳細：`EDUANIMA_R_PRD.md`

---

## Phase 1：ローカル開発・API検証（Foundation）

- 形態：ローカル環境でのWeb版開発
- 目的：
  - バックエンドAPI（科目管理、ファイルアップロード、RAGパイプライン、チャット・履歴）の実装と検証
  - Web UIでの機能確認・ベンチマーク実施
  - 認証は不要（固定のdev-userを使用）
- 機能：
  - 科目作成、資料の手動アップロード
  - 保存済み資料に基づくQ&A（SSEで進捗/回答を表示）
  - 回答の Source（ファイルURL等）表示
  - 質問履歴（スレッド）
  - お問い合わせ/不具合申告
- 成果物：
  - 完全に動作するAPI
  - ベンチマークデータ
  - Web版での機能確認完了

---

## Phase 2：認証・セキュリティ実装（Security Layer）

- 形態：Web版 + バックエンド
- 目的：
  - SSO（OAuth）認証の実装
  - 拡張機能専用エンドポイントの追加
  - Web版の機能制限（新規登録・科目登録・ファイルアップロード無効化）
- 機能：
  - Google / Meta / Microsoft / LINE によるSSO認証
  - 拡張機能専用のユーザー登録エンドポイント（POST /v1/auth/extension/register）
  - 拡張機能専用の科目同期エンドポイント（POST /v1/courses/sync）
  - 拡張機能専用の資料アップロードエンドポイント（POST /v1/resources/upload）
  - Web版からの新規登録・科目登録・ファイルアップロードの無効化
- 成果物：
  - 認証基盤
  - セキュリティ強化されたAPI
  - 拡張機能専用エンドポイント

---

## Phase 3：Chrome拡張機能開発（Auto-Ingestion）

- 形態：Chrome拡張（Popup & Sidepanel）
- 目的：
  - **Moodle資料の自動検知・アップロード機能**（最重要）
  - LMS SSO連携によるユーザー登録
  - LMSの履修済みコース情報からの科目自動同期
  - チャット・履歴機能
- 機能：
  - LMS DOM 監視で新規配布資料を自動検知（MutationObserver）
  - 自動ダウンロード・アップロード→解析パイプライン投入
  - LMS上のSSO認証によるユーザー登録
  - 履修済みコースの自動同期
  - LMS 上フローティングボタンで、その場で質問
  - Sidepanelでのチャット・履歴表示
- 成果物：
  - 完全に動作する拡張機能
  - LMS連携の実証
  - 自動収集機能の実装
- 非ゴール：
  - Web版からの手動アップロード（本番環境では無効化済み）

---

## Phase 4：同時リリース（Production Launch）

- 形態：Chrome拡張機能 + Webアプリケーション
- 配布：
  - 拡張機能: Chrome Web Store（非公開配布）
  - Web版: 一般公開（拡張機能で登録したユーザーのみログイン可能）
- 利用フロー：
  1. 学生が拡張機能をインストール
  2. LMS上でSSO認証・ユーザー登録
  3. 履修科目の自動同期
  4. Moodle資料の自動検知・アップロード
  5. Web版でも同じアカウントでログイン可能（大画面での閲覧）
- Web版の役割：
  - 大画面でのチャット・履歴閲覧
  - 拡張機能で登録したユーザーの再ログイン
  - 機能確認用（開発フェーズで使用）
- 目的：
  - 拡張機能による完全自動化された学習支援の提供
  - Web版による大画面での快適な閲覧体験の提供

---

## 将来の拡張（Phase 5以降）

### 学習ロードマップ/計画（Learning Support）

- 形態：Web + 拡張の機能追加
- 機能：
  - 目標（例：期末までに何をすべきか）からロードマップを自動生成
  - カレンダー連携 または 進捗ダッシュボード
- 目的：回答機から学習コンサルタントへ進化

### 小テスト HTML 解析（Feedback Loop）

- 形態：拡張（Content Script 強化）
- 機能：
  - 小テスト画面 HTML 解析（問題/選択肢/正誤）
  - 間違い傾向の分析と復習指示（資料のここを読む）
  - 弱点に基づく計画の動的修正
- 目的：アウトカム（理解度/成績）に直接コミットするループを構築

### コンテキスト自動認識（Seamless Experience）

- 形態：拡張の知能化
- 機能：
  - 現在ページ内容から科目/トピックを自動推定
  - プロンプト不要で検索スコープを適用し、支援を開始
- 目的：ユーザーとシステムの境界を無くし、常にAIが隣にいる体験を実現
