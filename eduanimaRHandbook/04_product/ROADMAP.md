Title: Product Roadmap
Description: eduanimaR のロードマップ（段階的な提供価値とリリースの順序）
Owner: @OWNER
Reviewers: @reviewer1
Status: Draft
Last-updated: 2026-02-14
Tags: product, roadmap

# Product Roadmap

本ドキュメントは、eduanimaR が提供する価値を段階的に積み上げるためのロードマップを定義する。
ここでは「何をいつ頃までに提供するか」を扱い、実装方法（アーキテクチャ/DB/検索方式/LLM等）は別ドキュメントで定義する。

## 前提
- 提供形態: Chrome拡張機能 + Webアプリ
- 認証: SSO（OAuth 2.0 / OpenID Connect）
	- Phase 1はローカル開発のみのため認証をスキップ（固定のdev-user使用）
	- Phase 2以降で Google / Meta / Microsoft / LINE によるSSO認証を実装
- データ境界: ユーザー別分離がデフォルト（導線が拡張/WEBのどちらでも同一の認証・認可境界で強制）
- 初期提供: 個人利用のみ
	- 将来「科目の資料セット」の共有は想定するが、本ロードマップ（Phase 1〜4）の提供範囲には含めない

## フロントエンド主要要件（全フェーズ共通）
ロードマップ全体を通して、UI/UX上の要求として以下を不変の前提とする。

- UI/UXコンセプト: 学習を妨げないクリーンなインターフェース。透明性（ソース提示）と即時性を重視。
- 認証: SSOによるシームレスなログイン（OAuth/OIDC）。個人プロファイルはSSO連携を前提に扱う（Phase 2以降）。
- Q&A: チャット形式のUI。回答には参照元資料がクリッカブルに添付され、該当箇所へ素早く到達できる。
- ファイル・科目管理: 科目ごとにツリー形式で保存済みファイルを閲覧できる。
- サポート機能: 質問履歴（スレッド保存）と、不具合申告・お問い合わせ導線を常設する。

## Phase 1: ローカル開発・API検証（The Foundation）
形態: ローカル環境でのWeb版開発。

目的:
- バックエンドAPI（科目管理、ファイルアップロード、RAGパイプライン、チャット・履歴）の実装と検証
- Web UIでの機能確認・ベンチマーク実施
- 認証は不要（固定のdev-userを使用）

機能（アウトカム）:
- 科目作成および資料の手動アップロード
- アップロード済み資料に基づくQ&A（Librarian/Professorの基本ループ）
- 回答時のソース（参照元資料・箇所）が分かる表示
- 質問履歴の閲覧とお問い合わせ機能

成果物:
- 完全に動作するAPI
- ベンチマークデータ
- Web版での機能確認完了

非ゴール:
- 本番環境へのデプロイ
- SSO認証の実装
- LMSからの自動収集
- 科目内グループ共有（初期は個人利用のみ）

## Phase 2: 認証・セキュリティ実装（Security Layer）
形態: Web版 + バックエンド。

目的:
- SSO（OAuth）認証の実装
- 拡張機能専用エンドポイントの追加
- Web版の機能制限（新規登録・科目登録・ファイルアップロード無効化）

機能（アウトカム）:
- Google / Meta / Microsoft / LINE によるSSO認証
- 拡張機能専用のユーザー登録エンドポイント
- 拡張機能専用の科目同期・資料アップロードエンドポイント
- Web版からの新規登録・科目登録・ファイルアップロードの無効化

成果物:
- 認証基盤
- セキュリティ強化されたAPI
- 拡張機能専用エンドポイント

## Phase 3: Chrome拡張機能開発（Auto-Ingestion）
形態: Chrome拡張機能（Popup/Sidepanel等）。

目的:
- **Moodle資料の自動検知・アップロード機能**（最重要）
- LMS SSO連携によるユーザー登録
- LMSの履修済みコース情報からの科目自動同期
- チャット・履歴機能

機能（アウトカム）:
- **LMSページ上の変化から、新規配布資料（PDF/PPT等）を自動検知・アップロード**
- 検知した資料を自動保存し、解析パイプラインへ連携（ユーザーの収集手間をゼロに）
- LMS上のSSO認証によるユーザー登録
- 履修済みコースの自動同期
- LMS上からその場で質問できる導線（Web版へ切り替えずに開始できる）

成果物:
- 完全に動作する拡張機能
- LMS連携の実証
- 自動収集機能の実装

非ゴール:
- Web版からの手動アップロード（本番環境では無効化済み）

## Phase 4: 同時リリース（Production Launch）
形態: Chrome拡張機能 + Webアプリケーション。

配布:
- 拡張機能: Chrome Web Store（非公開配布）
- Web版: 一般公開（拡張機能で登録したユーザーのみログイン可能）

利用フロー:
1. 学生が拡張機能をインストール
2. LMS上でSSO認証・ユーザー登録
3. 履修科目の自動同期
4. Moodle資料の自動検知・アップロード
5. Web版でも同じアカウントでログイン可能（大画面での閲覧）

Web版の役割:
- 大画面でのチャット・履歴閲覧
- 拡張機能で登録したユーザーの再ログイン
- 機能確認用（開発フェーズで使用）

目的:
- 拡張機能による完全自動化された学習支援の提供
- Web版による大画面での快適な閲覧体験の提供

注:
- Web版からの新規登録・科目登録・ファイルアップロードは無効化
- 新規ユーザー登録は拡張機能でのみ可能

## 将来の拡張（Phase 5以降）

### ロードマップ・学習計画機能（Learning Support）
形態: Webアプリおよび拡張機能の機能追加。

機能（アウトカム）:
- 目標（例: 期末試験までに何をすべきか）に対し、保存済み資料を横断して学習ロードマップを生成できる
- 進捗を扱える最小限の導線（ダッシュボード等）を提供する

目的:
- 単なるQ&Aから、学習の「次の一歩」を継続的に設計できる支援へ拡張する。

### 小テストHTML解析（Feedback Loop）
形態: 拡張機能（Content Scriptの強化）。

機能（アウトカム）:
- 小テスト画面のHTMLから、問題文・選択肢・結果（正誤等）を取得し、復習の材料として整理できる
- 間違いの傾向をもとに「資料のどこを読み直すべきか」を提示できる
- 弱点に基づき、学習計画を更新できる

データの扱い（方針）:
- 小テスト画面のHTMLや問題文・選択肢・正誤等の内容は、原則として「その場の解析のみ（保存しない/短期）」とする

目的:
- アウトカム（理解度向上）に効くフィードバックループを構築する。

注:
- 本フェーズは学習支援（復習の指示、参照提示）を目的とし、学内規程・授業ルールに反する利用を目的としない。

### コンテキスト自動認識サポート（Seamless Experience）
形態: 拡張機能の知能化。

機能（アウトカム）:
- ユーザーが開いているLMSページ内容から、科目/トピックの文脈を推定し、ユーザーが明示的に科目指定しなくても支援を開始できる
- バックグラウンドで適切な検索フィルタ（科目ID等）を適用し、ユーザーの手入力を減らす

目的:
- ユーザーとシステムの境界を薄くし、「開くだけで支援が始まる」体験へ近づける。

