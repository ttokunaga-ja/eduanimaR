Title: Product Roadmap
Description: eduanimaR のロードマップ（段階的な提供価値とリリースの順序）
Owner: @OWNER
Reviewers: @reviewer1
Status: Draft
Last-updated: 2026-02-17
Tags: product, roadmap

# Product Roadmap

本ドキュメントは、eduanimaR が提供する価値を段階的に積み上げるためのロードマップを定義する。
ここでは「何をいつ頃までに提供するか」を扱い、実装方法（アーキテクチャ/DB/検索方式/LLM等）は別ドキュメントで定義する。

## 前提
- 提供形態: Chrome拡張機能 + Webアプリ
- 認証: SSO（OAuth 2.0 / OpenID Connect）
	- Phase 1はローカル開発のみのため認証をスキップ（固定のdev-user使用）
	- Phase 2で Google / Meta / Microsoft / LINE によるSSO認証を実装し、Web版・拡張機能を同時リリース
- データ境界: ユーザー別分離がデフォルト（導線が拡張/WEBのどちらでも同一の認証・認可境界で強制）
- 初期提供: 個人利用のみ
	- 将来「科目の資料セット」の共有は想定するが、本ロードマップ（Phase 1〜4）の提供範囲には含めない

## フロントエンド主要要件（全フェーズ共通）
ロードマップ全体を通して、UI/UX上の要求として以下を不変の前提とする。

- UI/UXコンセプト: 学習を妨げないクリーンなインターフェース。透明性（ソース提示）と即時性を重視。
- 認証: SSOによるシームレスなログイン（OAuth/OIDC）。個人プロファイルはSSO連携を前提に扱う（Phase 2以降）。
- Q&A: チャット形式のUI。回答には参照元資料がクリッカブルに添付され、該当箇所へ素早く到達できる。
- ファイル・科目管理: 科目ごとにツリー形式で保存済みファイルを閲覧できる。
- サポート機能: 質問履歴（スレッド保存）と、不具合申告・お問い合わせ導線を常設する。

## Phase 1: ローカル完結MVP（研究基盤構築）

### 目的
LLMによる資料ベース学習支援の**技術的実現可能性**と**学習効果の測定可能性**を検証する。

### 提供する機能（スコープ固定）
- ✅ 資料アップロード（Web UIから手動、PDF/PowerPoint対応）
- ✅ OCR + 構造化（Gemini 2.0 Flash使用）
- ✅ pgvector埋め込み生成・保存（HNSW検索）
- ✅ Q&A（単一科目内検索 + 根拠提示）
- ✅ 根拠箇所へのページ番号リンク

### 明示的なスコープ外（Phase 2以降に延期）
- ❌ SSO認証（Phase 1は固定のdev-userを使用）
- ❌ Chrome拡張機能（Phase 1はWeb UIのみ）
- ❌ 複数ユーザー対応（Phase 1は単一ユーザー想定）
- ❌ 小テストHTML解析（Phase 4の機能）
- ❌ 学習計画自動生成（Phase 4の機能）

### Phase 1の開発完了条件（研究検証項目）
1. **技術的安定性**
   - 単一PDF（50ページ程度）をアップロード後、10秒以内に検索可能状態
   - 同時アップロード3件でもエラーなく処理完了
   
2. **検索品質**
   - 準備した10件の検証質問に対し、7件以上で適切な根拠を返す（70%成功率）
   - 根拠のないハルシネーションが20%以下（人手評価）
   
3. **引用精度**
   - 提示された根拠が実際の資料ページ番号と90%以上一致
   - ページ番号リンクから該当箇所に到達可能

### Phase 1で取得する研究データ
- OCR精度（文字認識率、図表の意味抽出成功率）
- 検索応答時間の分布（p50/p95/p99）
- ユーザーフィードバック（根拠の有用性5段階評価）

### 次のPhaseへの移行条件
Phase 2（SSO認証+複数ユーザー）への移行は、Phase 1で以下を達成した場合のみ：
- 検索成功率70%以上を10セッション連続で維持
- ハルシネーション率20%以下を達成
- 5名以上の被験者から「学習に役立った」評価を獲得

## Phase 2: 本番環境への同時リリース（Production Launch）
形態: Chrome拡張機能 + Webアプリケーションの同時リリース。

目的:
- SSO認証の実装と本番適用
- Chrome Web Storeへの公開（非公開配布）
- Webアプリの本番デプロイ
- 完全な学習支援システムの提供開始

機能（アウトカム）:
- **SSO認証**: Google / Meta / Microsoft / LINE によるログイン
- **Chrome拡張機能**:
  - LMS上での資料自動検知・アップロード（Phase 1で実装済みの機能を本番適用）
  - LMSの履修済みコース情報から科目自動同期
  - LMS上での質問機能
  - ユーザー登録（拡張機能からのみ）
- **Webアプリ**:
  - 大画面でのチャット・履歴閲覧
  - 拡張機能で登録したユーザーのログイン（新規登録不可）
  - 科目・資料一覧の閲覧

配布:
- 拡張機能: Chrome Web Store（非公開配布）
- Web版: 一般公開（拡張機能で登録したユーザーのみログイン可能）

利用フロー:
1. 学生が拡張機能をインストール
2. LMS上でSSO認証・ユーザー登録
3. 履修科目の自動同期
4. Moodle資料の自動検知・アップロード
5. Web版でも同じアカウントでログイン可能（大画面での閲覧）

Web版の役割:
- 大画面でのチャット・履歴閲覧
- 拡張機能で登録したユーザーの再ログイン専用

成果物:
- 認証基盤の本番適用
- Chrome Web Storeへの公開
- Webアプリの本番デプロイ

注:
- Web版からの新規登録・科目登録・ファイルアップロードは無効化
- 新規ユーザー登録は拡張機能でのみ可能
- 自動アップロード機能はPhase 1で実装済み、Phase 2で本番適用

## 将来の拡張（Phase 5以降）

### ロードマップ・学習計画機能（Learning Support）
形態: Webアプリおよび拡張機能の機能追加。

機能（アウトカム）:
- 目標（例: 期末試験までに何をすべきか）に対し、保存済み資料を横断して学習ロードマップを生成できる
- 進捗を扱える最小限の導線（ダッシュボード等）を提供する

目的:
- 単なるQ&Aから、学習の「次の一歩」を継続的に設計できる支援へ拡張する。

### 小テストHTML解析（Feedback Loop）
形態: 拡張機能（Content Scriptの強化）。

機能（アウトカム）:
- 小テスト画面のHTMLから、問題文・選択肢・結果（正誤等）を取得し、復習の材料として整理できる
- 間違いの傾向をもとに「資料のどこを読み直すべきか」を提示できる
- 弱点に基づき、学習計画を更新できる

データの扱い（方針）:
- 小テスト画面のHTMLや問題文・選択肢・正誤等の内容は、原則として「その場の解析のみ（保存しない/短期）」とする

目的:
- アウトカム（理解度向上）に効くフィードバックループを構築する。

注:
- 本フェーズは学習支援（復習の指示、参照提示）を目的とし、学内規程・授業ルールに反する利用を目的としない。

### コンテキスト自動認識サポート（Seamless Experience）
形態: 拡張機能の知能化。

機能（アウトカム）:
- ユーザーが開いているLMSページ内容から、科目/トピックの文脈を推定し、ユーザーが明示的に科目指定しなくても支援を開始できる
- バックグラウンドで適切な検索フィルタ（科目ID等）を適用し、ユーザーの手入力を減らす

目的:
- ユーザーとシステムの境界を薄くし、「開くだけで支援が始まる」体験へ近づける。

